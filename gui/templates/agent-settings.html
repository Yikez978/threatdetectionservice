{% extends "template.html" %}

{% block head %}
  {{ super() }}
{% endblock %}

{% block navheader %}
  {{  super() }}
{% endblock %}

{% block menu %}
  <div id="sidebar-wrapper" class="col-md-2 container" style="width:100%;">
    <div class="navbar-collapse collapse sidebar-navbar-collapse navbar-default">
      <ul class="nav navbar-nav" id="user-settings">
        <li class="active" id="info"><a href="/agent-settings">Settings<span class="sr-only">(current)</span></a></li>
        <li id="alert"><a href="#">Deployment</a></li>
        <li id="alert"><a href="#">Statistics</a></li>
        <li id="alert"><a href="/agent-table">Data Management</a></li>
      </ul>
    </div><!--/.nav-collapse -->
  </div>
{% endblock %}

{% block content %}
  <div id="main-wrapper" class="col-md-10 pull-right">
    <div class="container center-block" style="margin-top:5px;padding-right:15%;display:block;">
      <!-- begin main content -->
      <form id="agent-settings" data-bind="event: {'submit': onSubmit}">
        <h3>Operational settings for Agent: <span data-bind="text: agentID"></span></h3><br>
        <p id="messagebox" data-bind="text : responseJSON"></p>
        <br>
        <div class="form-group">
          <label for="ipAddress">Ip Address</label>
          <input type="text" class="form-control" id="ipAddress" data-bind="value: ipAddress" />
          <label for="active">Active State</label>
          <input type="text" class="form-control" id="active" data-bind="value: active" />
          <label for="companyID">Owning Company's ID</label>
          <input type="text" class="form-control" id="companyID" data-bind="value: companyID" />
          <label for="site">Site Deployed at</label>
          <input type="text" class="form-control" id="site" data-bind="value: site" />
          <label for="agentMode">Mode of operation</label>
          <input type="text" class="form-control" id="agentMode" data-bind="value: mode" />
          <label for="agentCmd">Command to execute</label>
          <input type="text" class="form-control" id="agentCmd" data-bind="value: cmd" />
          <label for="startTime">Agent start time</label>
          <input type="text" class="form-control" id="startTime" data-bind="value: startTime" />
          <label for="stopTime">Agent stop time</label>
          <input type="text" class="form-control" id="stopTime" data-bind="value: stopTime" />
          <label for="timesyncInterval">Interval between time syncs</label>
          <input type="text" class="form-control" id="timesyncInterval" data-bind="value: timesyncInterval" />
          <label for="updateInterval">Interval between agent updates</label>
          <input type="text" class="form-control" id="updateInterval" data-bind="value: updateInterval" />
          <label for="assetscanInterval">Interval between asset scans</label>
          <input type="text" class="form-control" id="assetscanInterval" data-bind="value: assetscanInterval" />
        </div>
        <input type="submit" value="Save" />
      </form>
    </div><!-- end main content  -->
  <br><br>
  </div><!-- end of main-wrapper -->
{% endblock %}

{% block scripts %}
  <script>var AGENT = "{{ agent }}";</script>
  {{ super() }}
  {% block models %}
    <script src="static/agentviewmodel.js"></script>
  {% endblock %}
{% endblock %}