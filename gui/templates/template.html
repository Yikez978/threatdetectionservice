<!DOCTYPE html>
<html>

  <head>
    {% block head %}
    <title>Threat Management Platform</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="static/bootstrap.min.css" rel="stylesheet" media="screen">
    <link href="static/site.css" rel="stylesheet" media="screen">
    {% endblock %}
  </head>

  <body>
  {% block navheader %}
    <div class="container-fluid" style="padding-right:0px;padding-left:0px;">
      <div id="navbar" class="container-fluid" style="padding-right:0px;padding-left:0px;"> <!-- menu container -->
        <nav class="navbar navbar-default">
          <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="/"><img src="static/flyball_labs_50x52.png"></a>
            </div>

          <!-- Collect the nav links, forms, and other content for toggling -->
          <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav">
              <li><a href="/dashboard">Dashboard<span class="sr-only">(current)</span></a></li>
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Cyber-Security<span class="caret"></span></a>
                <ul class="dropdown-menu">
                  <li><a href="/threats">Threat Dashboard</a></li>
                  <li role="separator" class="divider"></li>
                  <li><a href="/agent-table">Agent Management</a></li>
                  <li><a href="/alert-settings">Alert Management</a></li>
                </ul>
              </li>
              <li><a href="/facial-paste">Facial Recognition<span class="sr-only">(current)</span></a></li>
            </ul>
            <form class="navbar-form navbar-left">
              <div class="form-group">
                <input type="text" class="form-control" placeholder="Enter Site">
              </div>
              <button type="submit" class="btn btn-default">Find Site</button>
            </form>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="#">Welcome</a></li>
              <li class="dropdown">
                <a href="#" id="user" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">{{ username }} <span class="caret"></span></a>
                <ul class="dropdown-menu">
                  <li><a href="/userprofile">Profile</a></li>
                  <li><a href="/logout">Logout</a></li>
                </ul>
              </li>
            </ul>
          </div><!-- /.navbar-collapse -->
        </div><!-- /.container-fluid -->
      </nav>
      </div>
    {% endblock %}

    <div id="wrapper">                  <!-- block menu container -->
      {% block menu %}{% endblock %}    <!-- dynamic menu rendering -->
      {% block content %}{% endblock %} <!-- dynamic menu content rendering -->
    </div>                              <!-- end of block menu wrapper -->
  </div> <!-- end of main <body> container -->

  <!-- TODO: these should NOT be global vars, security risk, anyone can access these -->
  <!-- Global variables passed from the controller -->
  <script>
    var USER_NAME = "{{ username }}";
	  var API_SERVER =  "{{ apiServer }}";
  	var AUTH_TOKEN =  "{{ authToken }}";
  </script>

  {% block scripts %} <!-- dynamic script rendering -->
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>

  <!-- Knockout JavaScript Library -->
  <script src="static/knockout-3.4.1.js"></script>

  <!-- Put any knockout models here -->
  {% block models %}{% endblock %}

  <!-- Bootstrap minified Javascript -->
  <script src="static/bootstrap.min.js"></script>

  <!-- Bootstrap Table Latest compiled and minified CSS -->
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.11.0/bootstrap-table.min.css">

  <!-- Bootstrap Table Latest compiled and minified JavaScript -->
  <script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.11.0/bootstrap-table.min.js"></script>

  <!-- Bootstrap Table Latest compiled and minified Locales -->
  <script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.11.0/locale/bootstrap-table-zh-CN.min.js"></script>
  {% endblock %}

  </body>
</html>