{% extends "template.html" %}

{% block head %}
    <title>Threat Management Platform</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" charset="UTF-8">
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="static/tables.css" media="screen">
{% endblock %}

<header>
  {% block navheader %}
    {{  super() }}
  {% endblock %}
</header>

{% block menu %}
  <aside>
    <a class="current">Home</a>
    <a>Search</a>
    <a>Filter</a>
    <a>Save Response</a>
    <a>Load Query</a>
    <a>Advanced Search</a>
  </aside>
{% endblock %}

{% block content %}
  <div id="main">

    <div class="sub">
      <a class="current">Tab1</a>
      <a>Tab2</a>
      <a>Tab3</a>
      <a>Tab4</a>
      <a>tab5</a>
    </div>

    <table class="sp-table sp-table-striped sp-table-hover">
    <p id="messagebox" data-bind="text: responseJSON"></p>
      {% for agent in agents %}
        <thead>
          <tr>
            <th colspan="2">
              <a href="#" data-bind="click: editAgent" id="{{ agent.agent_id }}">Agent ID# {{ agent.agent_id }}</a>
            </th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><strong>Mac Address</strong></td>
            <td>{{ agent.mac_address }}</td>
          </tr>
          <tr>
            <td><strong>Ip Address</strong></td>
            <td>{{ agent.ip_address }}</td>
          </tr>
          <tr>
            <td><strong>Active</strong></td>
            <td>
              {% if agent.active == 1 %}true
              {% else %}false{% endif %}
            </td>
          </tr>
          <tr>
            <td><strong>Site</strong></td>
            <td>{{ agent.site }}</td>
          </tr>
          <tr>
            <td><strong>Mode</strong></td>
            <td>{{ agent.mode }}</td>
          </tr>
          <tr>
            <td><strong>Current Cmd</strong></td>
            <td>{{ agent.cmd }}</td>
          </tr>
          <tr>
            <td><strong>Discover Assets</strong></td>
            <td>{{ agent.time_setting['interval']['discover_assets'] }}</td>
          </tr>
          <tr>
            <td><strong>Time Synchronization</strong></td>
            <td>{{ agent.time_setting['interval']['time_sync'] }}</td>
          </tr>
          <tr>
            <td><strong>Update Interval</strong></td>
            <td>{{ agent.time_setting['interval']['update'] }}</td>
          </tr>
          <tr>
            <td><strong>Start Time</strong></td>
            <td>{{ agent.time_setting['start_stop']['start'] }}</td>
          </tr>
          <tr>
            <td><strong>Stop Time</strong></td>
            <td>{{ agent.time_setting['start_stop']['stop'] }}</td>
          </tr>
        </tbody>
      {% endfor %}
    </table>

  </div>
{% endblock %}

{% block scripts %}
  <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
  <script>var COMPANY_AGENTS = "{{ agents }}";</script>
  <script src="static/tables.js"></script>
{% endblock %}
